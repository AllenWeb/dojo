<!DOCTYPE html>
<html>
	<head>
		<title>Parser args Unit Test</title>
		<style type="text/css">     
			@import "../../resources/dojo.css";
		</style>
		<script type="text/javascript" src="../../dojo.js" data-dojo-config="isDebug:true, async:true"></script>
		<script type="text/javascript">
		require(["dojo/ready", "dojo/_base/lang", "dojo/_base/declare", "doh", "dojo/parser", "dojo/domReady!"],
				function(ready, dlang, declare, doh, parser){

			var mixin = dlang.mixin,
				extend = dlang.extend,
				exists = dlang.exists;

			declare("tests.parser.Class1", null, {
				constructor: function(args, node){
					this.params = args;
					mixin(this, args);
				}, 
				strProp1: "original1",
				strProp2: "original2"
			});

			ready(function(){
				doh.register("args scope test", [
					function argsOnly(){
						// only the args is passed, and it does not contain a rootNode
						parser.parse({
							scope: "myscope"
						});
						doh.is("text", obj.strProp1);
					}
				]);
				doh.run();
			});
		});
		</script>
	</head>
	<body>
		<h1>Parser args Unit Test</h1>

		<div data-myscope-type="tests.parser.Class1" data-myscope-id="obj" id="toParse"
			 data-myscope-props="strProp1:'text'">
		</div>
	</body>
</html>
